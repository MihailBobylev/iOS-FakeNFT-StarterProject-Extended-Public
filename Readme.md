# Эпик basket

## Часть 1-3

1. **Модели данных и сервисы**
   - Расширить модель Nft (name, rating, price)
   - Создать модели Currency, BasketItem, enum SortOption
   - Реализовать BasketStorage и BasketService
   - Реализовать PaymentService для обработки оплаты
(est: 1 час; fact: 4 часа)

2. **Основной экран корзины**
   - Создать BasketViewModel на MVVM
   - Сверстать BasketView с таблицей NFT (изображение, название, рейтинг, цена, кнопка удаления)
   - Сверстать нижнюю панель где количество NFT, сумма, кнопка "К оплате"
   - Реализовать состояния: загрузка, пустая корзина
(est: 2 часа; fact: 4 часа)

3. **Интеграция и базовая функциональность**
   - Интегрировать сервисы в ServicesAssembly
   - Подключить загрузку данных корзины
   - Настроить навигацию на экран оплаты
(est: 3 часа; fact: 5 часов)

---

## Часть 2-3

4. **Удаление NFT**
   - Сверстать попап подтверждения удаления с изображением NFT и кнопками Удалить и Вернуться
   - Реализовать логику удаления в BasketService и обновление UI
(est: 1 час; fact: 2 часа)

5. **Функционал сортировки**
   - Сверстать попап сортировки по цене, по рейтингу, по названию
   - Реализовать методы сортировки в BasketViewModel
   - Сохранять выбранную сортировку через сторедж ну или UserDefaults
   - Добавить кнопку сортировки в верхнюю часть экрана
(est: 2 часа; fact: 3 часа)

6. **Экран выбора валюты**
   - Создать PaymentViewModel
   - Сверстать PaymentView с коллекцией валют LazyVGrid
   - Реализовать выбор валюты с визуальным выделением
   - Сверстать ссылку на пользовательское соглашение https://yandex.ru/legal/practicum_termsofuse и кнопку Оплатить
   - Создать модель PaymentRequest и интегрировать с PaymentService
(est: 2 часа; fact: 3 часа) 

---

## Часть 3-3

7. **Вебвьюшка для пользовательского соглашения**
   - Создать WebView компонент WKWebView + UIViewRepresentable
   - Реализовать экран TermsOfServiceView с загрузкой URL соглашения
   - Настроить навигацию по ссылке
(est: 4 часа; fact: 6 часов)

8. **Обработка состояний оплаты**
   - Сверстать экран успешной оплаты PaymentSuccessView с изображением и поздравлением
   - Сверстать попап ошибки оплаты с кнопками Повторить и Отмена
   - Реализовать логику обработки успеха (очистка корзины,навигация)
   - Реализовать логику обработки ошибки (повтор запроса, отмена)
(est: 4 часа; fact: 6 часов)
